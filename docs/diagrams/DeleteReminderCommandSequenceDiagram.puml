@startuml
!include style.puml
skinparam ArrowFontStyle plain

box Logic for Delete Reminder LOGIC_COLOR_T1
participant "deleteReminder:DeleteReminderCommand" as DeleteReminderCommand LOGIC_COLOR
participant "result:CommandResult" as CommandResult LOGIC_COLOR
end box

box Model for Model MODEL_COLOR_T1
participant "model:Model" as Model MODEL_COLOR
end box

[-> DeleteReminderCommand : execute(model)
activate DeleteReminderCommand

alt targetIndex.isPresent()
    ref over DeleteReminderCommand, Model : delete by index and return result
else predicate.isPresent()
    DeleteReminderCommand -> Model : updateFilteredReminderList()
    DeleteReminderCommand -> Model : getFilteredReminderList()

    alt exactDueDateMatches.size() == 1
        ref over DeleteReminderCommand, Model : delete by keyword and return result
    else exactDescriptionMatches.size() == 1
        ref over DeleteReminderCommand, Model : delete by keyword and return result
    else
        DeleteReminderCommand -> DeleteReminderCommand : generateAllMatches
        activate DeleteReminderCommand

        DeleteReminderCommand --> DeleteReminderCommand
        deactivate DeleteReminderCommand

        create CommandResult
        DeleteReminderCommand -> CommandResult
        activate CommandResult

        CommandResult --> DeleteReminderCommand
        deactivate CommandResult

        [<-- DeleteReminderCommand : result
    end alt
end alt

deactivate DeleteReminderCommand
'Hidden arrow to position the destroy marker below the end of the activation bar.
[<-[hidden]- DeleteReminderCommand
destroy DeleteReminderCommand
@enduml
