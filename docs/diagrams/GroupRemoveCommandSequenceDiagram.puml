@startuml
!include style.puml
skinparam ArrowFontStyle plain

box Logic for Group Remove LOGIC_COLOR_T1
participant "remove:GroupRemoveCommand" as GroupRemoveCommand LOGIC_COLOR
participant "result:CommandResult" as CommandResult LOGIC_COLOR
end box

box Model for Model MODEL_COLOR_T1
participant "model:Model" as Model MODEL_COLOR
end box

[-> GroupRemoveCommand : execute(model)
activate GroupRemoveCommand

alt !model.hasGroup(name)
  GroupRemoveCommand --> GroupRemoveCommand : throw CommandException(group not found)
else
  GroupRemoveCommand -> Model : getFilteredPersonList()
  GroupRemoveCommand -> GroupRemoveCommand : resolveMembers(indices)
  GroupRemoveCommand -> Model : removeFromGroup(name, members)

  create CommandResult
  GroupRemoveCommand -> CommandResult
  activate CommandResult
  CommandResult --> GroupRemoveCommand
  deactivate CommandResult

  [<-- GroupRemoveCommand : result
end alt

deactivate GroupRemoveCommand
[<-[hidden]- GroupRemoveCommand
destroy GroupRemoveCommand
@enduml
